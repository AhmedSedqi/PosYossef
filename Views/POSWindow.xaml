<Window x:Class="PosYossef.Views.POSWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="نقطة البيع" 
        Height="800" Width="1400"
        WindowStartupLocation="Manual"
        WindowStyle="SingleBorderWindow"
        ResizeMode="CanResize">

    <Grid>
        <!-- العمود الأول -->
        <Border Width="400" Background="#f5f5f5" HorizontalAlignment="Left">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- سطر الزبون -->
                    <RowDefinition Height="Auto"/>
                    <!-- سطر التاريخ -->
                    <RowDefinition Height="Auto"/>
                    <!-- سطر رقم الفاتورة -->
                    <RowDefinition Height="*"/>
                    <!-- عناصر الفاتورة -->
                    <RowDefinition Height="200"/>
                    <!-- لوحة المفاتيح -->
                </Grid.RowDefinitions>

                <!-- السطر الأول: الزبون -->
                <Grid Grid.Row="0" Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <!-- زر الزبون -->
                    <Button Grid.Column="0" Style="{StaticResource CustomerButtonStyle}" Background="#ffd04d"
                            ToolTip="الزبائن المسجلون" >
                        <StackPanel>
                            <Image Source="/Resources/Icons/customer.png" Width="25" Height="25"/>
                            
                        </StackPanel>
                    </Button>

                    <!-- اسم الزبون -->
                    <TextBox Grid.Column="1" 
                     Style="{StaticResource InvoiceTextBoxStyle}"
                     Text="زبون غير مسجل" HorizontalContentAlignment="Right"
                     Margin="10,0,0,0"/>
                </Grid>

                <!-- السطر الثاني: التاريخ -->
                <Grid Grid.Row="1" Margin="5,5,5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" HorizontalAlignment="Center"
                       Text="Date:" 
                       Style="{StaticResource InvoiceLabelStyle}"/>

                    <DatePicker Grid.Column="1" 
                        SelectedDate="{Binding InvoiceDate}"
                        Style="{StaticResource DatePickerStyle}"/>
                </Grid>

                <!-- السطر الثالث: رقم الفاتورة -->
                <Grid Grid.Row="2" Margin="5,5,5,5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="2*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Grid.Column="0" 
                       Text="N° de la facture"  HorizontalAlignment="Center"
                       Style="{StaticResource InvoiceLabelStyle}"/>

                    <TextBox Grid.Column="1" 
                     Style="{StaticResource InvoiceTextBoxStyle}"
                     Text="0001"
                     IsReadOnly="True"/>
                </Grid>

                <!-- السطر الرابع: عناصر الفاتورة -->
                <Border Grid.Row="3" Margin="5" BorderBrush="#CCCCCC" BorderThickness="1">
                    <DataGrid x:Name="InvoiceItemsGrid"
                      AutoGenerateColumns="False"
                      HeadersVisibility="None"
                      Background="White"
                      RowHeight="30">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="المنتج" Binding="{Binding ProductName}" Width="*"/>
                            <DataGridTextColumn Header="الكمية" Binding="{Binding Quantity}" Width="0.5*"/>
                            <DataGridTextColumn Header="السعر" Binding="{Binding Price}" Width="0.5*"/>
                            <DataGridTextColumn Header="المجموع" Binding="{Binding Total}" Width="0.5*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>

                <!-- السطر الخامس: لوحة المفاتيح -->
                <Grid Grid.Row="5" Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="40"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- مستطيل عرض الأرقام -->
                    <Border Grid.Row="0" Grid.ColumnSpan="4"
                            BorderBrush="#CCCCCC" 
                            BorderThickness="1"
                            Background="White"
                            Margin="0,0,0,10"
                            Padding="5,5">
                                        <TextBlock x:Name="NumberDisplay" 
                                   Text="0" Margin="10,0,0,0" FontFamily="Times New Roman" FontWeight="Bold" Foreground="Red"
                                   FontSize="20"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Center"/>
                    </Border>

                    <!-- الصف الأول -->
                    <Button Grid.Row="1" Grid.Column="0" Content="7" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="1" Grid.Column="1" Content="8" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="1" Grid.Column="2" Content="9" Style="{StaticResource NumpadButtonStyle}"/>

                    <!-- الصف الثاني -->
                    <Button Grid.Row="2" Grid.Column="0" Content="4" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="2" Grid.Column="1" Content="5" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="2" Grid.Column="2" Content="6" Style="{StaticResource NumpadButtonStyle}"/>

                    <!-- الصف الثالث -->
                    <Button Grid.Row="3" Grid.Column="0" Content="1" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="3" Grid.Column="1" Content="2" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="3" Grid.Column="2" Content="3" Style="{StaticResource NumpadButtonStyle}"/>

                    <!-- الصف الرابع -->
                    <Button Grid.Row="4" Grid.Column="0" Content="0" Style="{StaticResource NumpadButtonStyle}"/>
                    <Button Grid.Row="4" Grid.Column="1" Content="," FontSize="25"
                            Style="{StaticResource FunctionButtonStyle}"/>
                    
                    <Button Grid.Row="4" Grid.Column="2" Grid.RowSpan="2"
                            Style="{StaticResource FunctionButtonStyle}" 
                            ToolTip="حذف">
                        <StackPanel>
                            <Image Source="/Resources/Icons/suprimer.png" Width="25" Height="25"/>
                        </StackPanel>
                    </Button>

                    <!-- زر OK -->
                    <Button Grid.Row="1" Grid.Column="3" Grid.RowSpan="2" 
                    Content="OK" 
                    Style="{StaticResource OkButtonStyle}"
                    Margin="5,0,0,0"/>

                    <!-- زر الكمية -->
                    <Button Grid.Row="3" Grid.Column="3" Grid.RowSpan="1"
                    Style="{StaticResource OkButtonStyle}" FontFamily="Calibri" Background="#ffd04d" Foreground="#420119"
                    Margin="5,0,0,0"
                    Content="الكمية"/>

                    <!-- زر السعر -->
                    <Button Grid.Row="4" Grid.Column="3" Grid.RowSpan="1"
                    Style="{StaticResource OkButtonStyle}" FontFamily="Calibri"  Background="#ffd04d" Foreground="#420119"
                    Margin="5,0,0,0"
                    Content="السعر"/>
                    
                </Grid>
            </Grid>
        </Border>

        <!-- العمود الثاني -->
        <Grid Margin="400,0,0,0" Background="#f5f5f5">
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <!-- شريط الفئات -->
                <RowDefinition Height="*"/>
                <!-- منطقة المنتجات -->
                <RowDefinition Height="70"/>
                <!-- منطقة الأزرار السفلية -->
            </Grid.RowDefinitions>

            <!-- شريط الفئات (بدون زر الإضافة) -->
            <Border Grid.Row="0" Margin="5" Background="#ffd04d">
                <ScrollViewer HorizontalScrollBarVisibility="Auto">
                    <!-- سيتم إضافة فئات المنتجات هنا لاحقاً -->
                </ScrollViewer>
            </Border>

            <!-- إطار المنتجات -->
            <Border Grid.Row="1" Margin="5" BorderBrush="Gray" BorderThickness="1" Background="#f9f5e3">
                <TextBlock Text="منطقة عرض المنتجات" HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>

            <!-- منطقة الأزرار السفلية -->
            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,0,0,0">
                <!-- خانة الأداء المضافة -->
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBox x:Name="PaymentAmountTextBox"
                             Width="150"
                             Height="40"
                             FontSize="22"
                             TextAlignment="Right"
                             Padding="5"
                             BorderBrush="#CCCCCC"
                             BorderThickness="1"
                             VerticalContentAlignment="Center"
                             Margin="0,0,20,0" FontFamily="Times New Roman" FontWeight="Black"
                             Text="0.00"/>
                    <TextBlock Text="المبلغ المدفوع" FontFamily="Calibri" FontWeight="Bold"
                               FontSize="19"
                               Margin="0,0,70,0"
                               VerticalAlignment="Center"/>
                </StackPanel>

                <!-- زر حفظ الفاتورة -->
                <Button Style="{StaticResource ActionButtonStyle}" Margin="0,0,20,0">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources/Icons/save.png" Width="25" Height="25"/>
                        <TextBlock Text="حفظ الفاتورة" FontSize="19" Margin="5,0,0,0"
                                   FontFamily="Calibri" FontWeight="Bold"/>
                    </StackPanel>
                </Button>

                <!-- زر إلغاء الفاتورة -->
                <Button Style="{StaticResource ActionButtonStyle}" Margin="0,0,20,0">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources/Icons/cancel.png" Width="25" Height="25"/>
                        <TextBlock Text="إلغاء الفاتورة" FontSize="19" Margin="5,0,0,0"
                                   FontFamily="Calibri" FontWeight="Bold"/>
                    </StackPanel>
                </Button>

                <!-- مربع البحث (تم نقله لليمين) -->
                <Border Margin="50,0,0,0" 
                        BorderBrush="Gray" 
                        BorderThickness="1" 
                        CornerRadius="10" 
                        Padding="5">
                    <StackPanel Orientation="Horizontal">
                        <Image Source="/Resources/Icons/search.png" Width="25" Height="25"/>
                        <TextBox x:Name="SearchBox" BorderThickness="0"
                                 Text="... بحث" FontFamily="Calibri" Foreground="Gray"
                                 Width="200" HorizontalContentAlignment="Right"
                                 FontSize="18" 
                                 Margin="5,0,0,0"
                                 GotFocus="SearchBox_GotFocus"
                                 LostFocus="SearchBox_LostFocus"/>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>

</Window>
